<!doctype html>

<head>
  <title>tofu</title>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
  <main>
    <h1>tofu</h1>
    <textarea id="textarea" rows="24" placeholder="Something secret..."></textarea>
    <button id="encrypt-btn" type="button">Encrypt</button>
  </main>

  <style>
    main { max-width: 70ch; margin: 0 auto; }
    textarea { width: calc(100% - 2em); padding: 1em; font-size: 18px; font-family: monospace; }
  </style>
  <script src="crypto.js"></script>
  <script>
    const btn = document.querySelector('#encrypt-btn');
    btn.onclick = async () => {
      const textarea = document.querySelector('#textarea');
      const plaintext = textarea.value;

      const {key, cipher} = await crypto.encrypt(plaintext);

      console.log(key, cipher);
      textarea.value = cipher;
    };
  </script>
</body>
